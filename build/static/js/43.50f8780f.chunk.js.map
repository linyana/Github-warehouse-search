{"version":3,"file":"static/js/43.50f8780f.chunk.js","mappings":"mQAaA,EATY,SAACA,GACX,OACE,SAAC,MAAO,kBACFA,GAAK,IACTC,UAAW,YAAW,MAAO,OAAP,EAARC,SAAmC,cAAgB,GAAG,IAG1E,ECCMC,EAAQ,SAACC,GACbC,EAAAA,GAAAA,MAAcD,EAChB,EAsFA,EAhFsB,WACpB,OAAgCE,EAAAA,EAAAA,YAAkB,eAA3CC,EAAQ,KAAEC,EAAW,KACtBC,GAAwBC,EAAAA,EAAAA,MAIxBC,GAAQC,EAAAA,EAAAA,KAAY,SAACC,GAAgB,OAAKA,EAAMF,MAAMA,KAAK,IAE3DG,GAAWC,EAAAA,EAAAA,MA2BXC,EAEAC,EADM,SAAVN,EACY,KACA,MAERO,EAEAD,EADM,SAAVN,EACY,KACA,MAERQ,EAAYC,OAAOC,aAAaC,QAAQ,aAc9C,OAZAC,EAAAA,EAAAA,YAAU,WACU,OAAdJ,GAA2C,KAArBA,EAAUK,OAClChB,EAAYW,GAEZX,EAEMS,EADM,SAAVN,EACY,KACA,MAGlB,GAAG,CAACQ,EAAWR,KAGb,iBAAKV,UAAU,SAAQ,WACrB,iBAAKA,UAAU,OAAM,WACnB,SAACwB,EAAS,CAACC,GAAG,aAAY,2BAC1B,SAACD,EAAS,CAACC,GAAG,aAAY,8BAE5B,iBAAKzB,UAAU,YAAW,WACxB,gBAAKA,UAAU,eAAe0B,QA/DV,WACxBlB,GAASmB,EAAAA,EAAAA,MACX,EA6D+D,UACvD,gBAAKC,IAAKb,EAAUc,IAAI,QAE1B,gBAAK7B,UAAU,YAAY0B,QA7Cb,WAAO,IAAD,EAEoB,OAA1CP,OAAOC,aAAaC,QAAQ,WACsB,MAAb,QAArC,EAAAF,OAAOC,aAAaC,QAAQ,iBAAS,aAArC,EAAuCE,QAEvCrB,EAAM,wCAENW,EAAS,SAAU,CAAEiB,SAAS,GAElC,EAoCsD,UAC9C,gBAAKF,IAAKtB,EAAUuB,IAAI,QAE1B,gBAAK7B,UAAU,OAAO0B,QA9DT,WAAO,IAAD,EAdVvB,EAgB+B,OAA1CgB,OAAOC,aAAaC,QAAQ,WACsB,MAAb,QAArC,EAAAF,OAAOC,aAAaC,QAAQ,iBAAS,aAArC,EAAuCE,SAEvCJ,OAAOC,aAAaW,WAAW,UAC/BZ,OAAOC,aAAaW,WAAW,aAC/BlB,EAAS,SAAU,CAAEiB,SAAS,IArBnB3B,EAsBH,2BArBZC,EAAAA,GAAAA,QAAgBD,IAuBZD,EAAM,qBAEV,EAkDgD,UACxC,gBAAK0B,IAAKX,EAASY,IAAI,YAKjC,C","sources":["components/MyNavLink/index.tsx","components/Header/index.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-expressions */\r\nimport React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst App = (props: any) => {\r\n  return (\r\n    <NavLink\r\n      {...props}\r\n      className={({ isActive }) => \"nav\" + (isActive ? \" nav_active\" : \"\")}\r\n    ></NavLink>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { changeTheme } from \"../../store/theme\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState, AppDispatch } from \"../../store\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { message } from \"antd\";\r\n\r\nimport MyNavLink from \"../MyNavLink\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst error = (msg: string) => {\r\n  message.error(msg);\r\n};\r\n\r\nconst success = (msg: string) => {\r\n  message.success(msg);\r\n};\r\n\r\nconst App: React.FC = () => {\r\n  const [loginSrc, setLoginSrc] = useState<string>();\r\n  const dispatch: AppDispatch = useDispatch();\r\n  const handleChangeTheme = () => {\r\n    dispatch(changeTheme());\r\n  };\r\n  const theme = useSelector((state: RootState) => state.theme.theme);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleExit = () => {\r\n    if (\r\n      window.localStorage.getItem(\"author\") !== null &&\r\n      window.localStorage.getItem(\"author\")?.trim() !== \"\"\r\n    ) {\r\n      window.localStorage.removeItem(\"author\");\r\n      window.localStorage.removeItem(\"authorImg\");\r\n      navigate(\"/login\", { replace: false });\r\n      success(\"注销成功\");\r\n    } else {\r\n      error(\"未登录\");\r\n    }\r\n  };\r\n\r\n  const handleLogin = () => {\r\n    if (\r\n      window.localStorage.getItem(\"author\") !== null &&\r\n      window.localStorage.getItem(\"author\")?.trim() !== \"\"\r\n    ) {\r\n      error(\"请勿重复登录\");\r\n    } else {\r\n      navigate(\"/login\", { replace: false });\r\n    }\r\n  };\r\n\r\n  const themeSrc =\r\n    theme === \"dark\"\r\n      ? require(\"../../assets/images/dark.png\")\r\n      : require(\"../../assets/images/light.png\");\r\n\r\n  const exitSrc =\r\n    theme === \"dark\"\r\n      ? require(\"../../assets/images/outdark.png\")\r\n      : require(\"../../assets/images/outlight.png\");\r\n\r\n  const authorImg = window.localStorage.getItem(\"authorImg\");\r\n\r\n  useEffect(() => {\r\n    if (authorImg !== null && authorImg.trim() !== \"\") {\r\n      setLoginSrc(authorImg);\r\n    } else {\r\n      setLoginSrc(\r\n        theme === \"dark\"\r\n          ? require(\"../../assets/images/logindark.png\")\r\n          : require(\"../../assets/images/loginlight.png\")\r\n      );\r\n    }\r\n  }, [authorImg, theme]);\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"navs\">\r\n        <MyNavLink to=\"/user/home\">首页</MyNavLink>\r\n        <MyNavLink to=\"/user/list\">列表</MyNavLink>\r\n      </div>\r\n      <div className=\"nav_right\">\r\n        <div className=\"change_theme\" onClick={handleChangeTheme}>\r\n          <img src={themeSrc} alt=\"\" />\r\n        </div>\r\n        <div className=\"login_img\" onClick={handleLogin}>\r\n          <img src={loginSrc} alt=\"\" />\r\n        </div>\r\n        <div className=\"exit\" onClick={handleExit}>\r\n          <img src={exitSrc} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"names":["props","className","isActive","error","msg","message","useState","loginSrc","setLoginSrc","dispatch","useDispatch","theme","useSelector","state","navigate","useNavigate","themeSrc","require","exitSrc","authorImg","window","localStorage","getItem","useEffect","trim","MyNavLink","to","onClick","changeTheme","src","alt","replace","removeItem"],"sourceRoot":""}