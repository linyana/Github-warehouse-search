{"version":3,"file":"static/js/649.62af7d37.chunk.js","mappings":"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","sources":["utils/axios.tsx","components/HoverBox/index.tsx","hooks/useFormatTime.tsx","pages/List/index.tsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\naxios.defaults.timeout = 100000;\r\nconst baseURL = \"https://api.github.com/users\";\r\n\r\nexport const GetRepos = async (userName: string) => {\r\n  let answer;\r\n  await axios\r\n    .get(`${baseURL}/${userName}/repos`)\r\n    .then((response) => (answer = response))\r\n    .catch((error) => console.error(error));\r\n  return answer;\r\n};\r\n\r\nexport const GetResponse = async (url: string) => {\r\n  let answer;\r\n  await axios\r\n    .get(url)\r\n    .then((response) => {\r\n      answer = response;\r\n    })\r\n    .catch((error) => console.error(error));\r\n\r\n  return answer;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Avatar } from \"antd\";\r\nimport { GetResponse } from \"../../utils/axios\";\r\nimport { nanoid } from \"nanoid\";\r\n\r\nimport \"./index.css\";\r\n\r\ninterface propsTypes {\r\n  ShowHoverBox: () => void;\r\n  obj: { [x: number]: any };\r\n}\r\n\r\nlet imgArr: string[];\r\n\r\nconst App = (props: propsTypes) => {\r\n  const [contributors, setContributors] = useState<string[]>([]);\r\n  const [languages, setLanguages] = useState<string[]>([]);\r\n  const { ShowHoverBox, obj } = props;\r\n  const item = obj[0];\r\n  const url = item?.url;\r\n\r\n  useEffect(() => {\r\n    if (item) {\r\n      GetResponse(item.contributors).then((response: any) => {\r\n        setContributors([]);\r\n        imgArr = [];\r\n        for (let i in response.data) {\r\n          imgArr.push(response.data[i].avatar_url);\r\n        }\r\n        setContributors(imgArr);\r\n      });\r\n\r\n      GetResponse(item.languages).then((response: any) => {\r\n        let lang = Object.keys(response.data).sort((a: string, b: string) => {\r\n          return Number(a) - Number(b);\r\n        });\r\n        setLanguages(lang.slice(0, 3));\r\n      });\r\n    }\r\n  }, [item]);\r\n\r\n  return (\r\n    <div className=\"hover_page\">\r\n      <div className=\"hover_box\">\r\n        <div className=\"close\" onClick={ShowHoverBox}>\r\n          <img src={require(\"../../assets/images/close.png\")} alt=\"\" />\r\n        </div>\r\n        <div className=\"hover_total_title\">{item?.name}</div>\r\n        <div className=\"hover_author\">\r\n          {item?.author}\r\n          <span />\r\n          {item?.createTime.slice(0, 10)}\r\n        </div>\r\n        <div className=\"hover_title\">描述</div>\r\n        <div className=\"description\">{item?.description}</div>\r\n        <div className=\"hover_title\">使用最多的语言</div>\r\n        <div className=\"languages\">\r\n          {languages.map((current) => {\r\n            return <span key={nanoid()}>{current}</span>;\r\n          })}\r\n        </div>\r\n        <div className=\"hover_title\">贡献者</div>\r\n        <Avatar.Group\r\n          maxCount={10}\r\n          maxPopoverTrigger=\"click\"\r\n          size=\"large\"\r\n          maxStyle={{\r\n            color: \"#f56a00\",\r\n            backgroundColor: \"#fde3cf\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          {contributors.map((current) => {\r\n            return <Avatar src={current} key={nanoid()} />;\r\n          })}\r\n        </Avatar.Group>\r\n        <div className=\"target_button\">\r\n          <button\r\n            onClick={() => {\r\n              window.open(url);\r\n            }}\r\n          >\r\n            跳转\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","export default function useFormatTime(time: string): string {\r\n  const str = time.replace(\"T\", \" \").replace(\"Z\", \"\");\r\n  return str;\r\n}\r\n","import { Table } from \"antd\";\r\nimport type { ColumnsType } from \"antd/es/table\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nimport HoverBox from \"../../components/HoverBox\";\r\nimport { GetRepos } from \"../../utils/axios\";\r\nimport useFormatTime from \"../../hooks/useFormatTime\";\r\n\r\nimport \"./index.css\";\r\n\r\ninterface DataTypes {\r\n  key?: React.Key;\r\n  name?: string;\r\n  description?: string;\r\n  createTime?: string;\r\n  updateTime?: string;\r\n  languages?: string;\r\n  contributors?: string;\r\n  url?: string;\r\n}\r\n\r\ninterface AuthorTypes {\r\n  author?: string;\r\n  authorUrl?: string;\r\n  authorImg?: string;\r\n}\r\n\r\nlet data: DataTypes[] = [];\r\nlet author: AuthorTypes;\r\n\r\nconst App: React.FC = () => {\r\n  const [tableData, setTableData] = useState<Array<DataTypes>>();\r\n  const [isShow, setIsShow] = useState<string>(\"hover_page_false\");\r\n  const [isDisplay, setIsDisplay] = useState({ display: \"none\" });\r\n  const [obj, setObj] = useState({});\r\n  const [authorData, setAuthorData] = useState<AuthorTypes>({});\r\n\r\n  const authorName = window.localStorage.getItem(\"author\") || \"linyana\";\r\n\r\n  // 数据列表\r\n  const columns: ColumnsType<DataTypes> = [\r\n    {\r\n      title: \"名字\",\r\n      dataIndex: \"name\",\r\n      width: 150,\r\n    },\r\n    {\r\n      title: \"描述\",\r\n      dataIndex: \"description\",\r\n    },\r\n    {\r\n      title: \"创建时间\",\r\n      dataIndex: \"createTime\",\r\n    },\r\n    {\r\n      title: \"更新时间\",\r\n      dataIndex: \"updateTime\",\r\n    },\r\n    {\r\n      title: \"查看\",\r\n      key: \"check\",\r\n      render: (row, record) => {\r\n        return (\r\n          <div className={\"check\"} onClick={() => checkMore(row, record.key)}>\r\n            查看\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  // 获取路由参数\r\n  const getsearchState = useLocation().state;\r\n  const searchState =\r\n    getsearchState === null ? authorName : getsearchState.searchState;\r\n\r\n  // 获取接口数据\r\n  useEffect(() => {\r\n    GetRepos(searchState).then((response: any): void => {\r\n      data = [];\r\n      author = {};\r\n      for (let i = 0; i < response.data?.length; i++) {\r\n        const res = response.data[i];\r\n        data.push({\r\n          // key\r\n          key: res.id,\r\n          // 名字\r\n          name: res.name,\r\n          // 描述\r\n          description: res.description || \"作者太懒了，没有进行描述\",\r\n          // 起始时间\r\n          // eslint-disable-next-line react-hooks/rules-of-hooks\r\n          createTime: useFormatTime(res.created_at),\r\n          // 更新时间\r\n          // eslint-disable-next-line react-hooks/rules-of-hooks\r\n          updateTime: useFormatTime(res.updated_at),\r\n          // 语言\r\n          languages: res.languages_url,\r\n          // 贡献者\r\n          contributors: res.contributors_url,\r\n          // 地址\r\n          url: res.html_url,\r\n        });\r\n      }\r\n\r\n      const authorRes = response.data[0].owner;\r\n      author = {\r\n        // 作者图片\r\n        authorImg: authorRes.avatar_url,\r\n        // 作者\r\n        author: authorRes.login,\r\n        // 地址\r\n        authorUrl: authorRes.html_url,\r\n      };\r\n      setAuthorData(author);\r\n      setTableData(data);\r\n      if (window.localStorage.getItem(\"author\")) {\r\n        window.localStorage.setItem(\"authorImg\", authorData?.authorImg || \"\");\r\n      }\r\n    });\r\n  }, [authorData?.authorImg, searchState]);\r\n\r\n  // 查看的点击事件\r\n  const checkMore = (row: any, key: any) => {\r\n    // 获取当前点击的列表信息，通过props传给子组件显示出来\r\n    setObj(\r\n      data.filter((_, index) => {\r\n        return data[index].key === Number(key);\r\n      })\r\n    );\r\n    ShowHoverBox();\r\n  };\r\n\r\n  const ShowHoverBox = () => {\r\n    setIsShow(\"hover_page_true\");\r\n    if (isDisplay.display === \"block\") {\r\n      setIsShow(\"hover_page_false\");\r\n      window.setTimeout(() => {\r\n        setIsDisplay({ display: \"none\" });\r\n      }, 500);\r\n    } else {\r\n      setIsDisplay({ display: \"block\" });\r\n      setIsShow(\"hover_page_false\");\r\n      window.setTimeout(() => {\r\n        setIsShow(\"hover_page_true\");\r\n      }, 10);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"layout_content\">\r\n      <div className=\"site-layout-background layout_left\">\r\n        <div className=\"author_img\">\r\n          <img src={authorData?.authorImg} alt=\"\" />\r\n        </div>\r\n        <div className=\"author_name\">{authorData?.author}</div>\r\n        <div className=\"target_button\" style={{ marginTop: \"20px\" }}>\r\n          <button\r\n            onClick={() => {\r\n              window.open(authorData?.authorUrl);\r\n            }}\r\n          >\r\n            查看详情\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"site-layout-background layout_right\">\r\n        <Table\r\n          columns={columns}\r\n          dataSource={tableData}\r\n          pagination={{ pageSize: 9 }}\r\n        />\r\n        <div className={isShow} style={isDisplay}>\r\n          <HoverBox ShowHoverBox={ShowHoverBox} obj={obj}></HoverBox>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"names":["axios","imgArr","GetRepos","userName","then","response","answer","catch","error","console","GetResponse","url","props","useState","contributors","setContributors","languages","setLanguages","ShowHoverBox","item","obj","useEffect","i","data","push","avatar_url","lang","Object","keys","sort","a","b","Number","slice","className","onClick","src","require","alt","name","author","createTime","description","map","current","nanoid","maxCount","maxPopoverTrigger","size","maxStyle","color","backgroundColor","cursor","window","open","useFormatTime","time","replace","tableData","setTableData","isShow","setIsShow","display","isDisplay","setIsDisplay","setObj","authorData","setAuthorData","authorName","localStorage","getItem","columns","title","dataIndex","width","key","render","row","record","checkMore","getsearchState","useLocation","state","searchState","length","res","id","created_at","updateTime","updated_at","languages_url","contributors_url","html_url","authorRes","owner","authorImg","login","authorUrl","setItem","filter","_","index","setTimeout","style","marginTop","dataSource","pagination","pageSize"],"sourceRoot":""}